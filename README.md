# ML_perovskite_buired_interface

## Introduction
Source code for the paper [Machine-Learning-Assisted Design of Buried-Interface Engineering Materials for High-Efficiency and Stable Perovskite Solar Cells](https://pubs.acs.org/doi/10.1021/acsenergylett.4c02610)

Cooperated with Qi Zhang.

## Requirements
enviroments.yaml contains the required packages and versions.

## Usage
### Data Preparation
Follow the format of the data in the new_mol.csv file and put your data in the same format. The data should be in the form of a csv file with the following columns:
- `NumHAcceptors`, `NumHDonors`, `TPSA`, `MolLogP`: Generated by RDKit
- `alkyl_num`: Alkyl length of the linker (e.g., 2 for 2PACz and 4 for 4PACz)
- `frag_sym`: Symmetry of the tail fragment (e.g., 1 for 2PACz because the carbazole ring is symmetric)
- `HOMO_calc`, `LUMO_calc`: the HOMO and LUMO energies of the molecule in eV, calculated at the B3LYP-D3(BJ)/def2-SVP level of theory
- `dipole`: the dipole moment of the molecule in Debye
- `MPI`: molecular polarity index calculated by Multiwfn in kcal/mol (load the wavefunction file then input command 12 then 0)
- `surface_min`: the surface minimum calculated by Multiwfn in kcal/mol (commond 12 then 0, see "Minimal value")
- `surface_max`: the surface maximum calculated by Multiwfn in kcal/mol (commond 12 then 0, see "Maximal value")
- `PSA`: the polar surface area (|ESP| > 10 kcal/mol) calculated by Multiwfn in Angstrom^2 (commond 12 then 0, see "Polar surface area (|ESP| > 10 kcal/mol)")
- `control_PCE`: control PCE without modification
- `anchor_end`: BA is for boronic acid, CA for carboxylic acid, PA for phosphonic acid, PO for phosphonate, SA for sulfonic acid, SH for thiol, SiO for siloxane, and NO for other nitrogen/oxygen-containing groups
- `MetalOxide`: materials for the buried metal oxide

### Prediction
load_pretained.ipynb contains the code for loading the pre-trained model and making predictions.

## Citation
If you use this code in your research, please cite the following paper:
```
Zhang, Qi, et al. "Machine-Learning-Assisted Design of Buried-Interface Engineering Materials for High-Efficiency and Stable Perovskite Solar Cells." ACS Energy Letters 9 (2024): 5924-5934.
